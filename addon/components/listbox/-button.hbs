{{#let (element (or @as 'button')) as |Tag|}}
  <Tag
    role={{if @role @role 'button'}}
    id='{{@guid}}-button'
    aria-haspopup='listbox'
    aria-controls={{@guid}}
    aria-labelledby='{{@guid}}-label {{@guid}}-button'
    {{on 'click' @handleButtonClick}}
    {{on 'keydown' @handleKeyDown}}
    {{on 'keypress' @handleKeyPress}}
    {{aria "expanded" value=@isOpen removeWhen=@disabled}}
    disabled={{if @disabled true false}}
    {{did-insert @registerButtonElement}}
    {{click-outside @handleClickOutside}}
    ...attributes
  >
    {{yield}}
  </Tag>
{{/let}}
